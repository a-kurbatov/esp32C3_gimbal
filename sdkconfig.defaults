# Defaults for this project (ESP-IDF 5.5.x)

# Target (default board)
CONFIG_IDF_TARGET_ESP32-C3=y

# Gimbal project options
#CONFIG_GIMBAL_IMU_SELECT_EMULATOR=y
#CONFIG_GIMBAL_IMU_SELECT_ICM42688P=y
CONFIG_GIMBAL_IMU_SELECT_BNO08X=y
#CONFIG_GIMBAL_IMU_SELECT_MSP_2AXIS=y
# Switch BNO08x transport to SPI (mode 3)
CONFIG_GIMBAL_BNO08X_USE_SPI=y
# CONFIG_GIMBAL_BNO08X_USE_I2C is not set

# Bus selection for ICM-42688-P (SPI by default)
CONFIG_GIMBAL_ICM_USE_SPI=y
#CONFIG_GIMBAL_ICM_USE_I2C=n

# SPI pins (ESP32-C3 remap to match board wiring)
CONFIG_GIMBAL_SPI_SCLK_GPIO=4
CONFIG_GIMBAL_SPI_MOSI_GPIO=6
CONFIG_GIMBAL_SPI_MISO_GPIO=5
CONFIG_GIMBAL_SPI_CS_GPIO=7
# Use SPI mode 0 by default for BNO08x
CONFIG_GIMBAL_BNO08X_SPI_MODE=3
# CONFIG_GIMBAL_BNO08X_SPI_TRACE is not set

# SPI pins (ESP32-C3 remap to match board wiring)
CONFIG_GIMBAL_SPI_SCLK_GPIO=4
CONFIG_GIMBAL_SPI_MOSI_GPIO=6
CONFIG_GIMBAL_SPI_MISO_GPIO=5
CONFIG_GIMBAL_SPI_CS_GPIO=7
CONFIG_GIMBAL_BNO08X_SPI_MODE=3

# INT/RESET/WAKE
CONFIG_GIMBAL_BNO08X_INT_GPIO=9
CONFIG_GIMBAL_BNO08X_INT_ACTIVE_LOW=y
CONFIG_GIMBAL_BNO08X_WAKE_GPIO=3
CONFIG_GIMBAL_BNO08X_RST_GPIO=2

# Servo (LEDC)
CONFIG_GIMBAL_SERVO_GPIO=10
# Yaw servo for 2-axis MSP mode
CONFIG_GIMBAL_SERVO_YAW_GPIO=8
CONFIG_GIMBAL_SERVO_FREQ_HZ=50
CONFIG_GIMBAL_SERVO_MIN_US=500
CONFIG_GIMBAL_SERVO_MAX_US=2500

# Button (active-low with internal pull-up)
CONFIG_GIMBAL_BUTTON_GPIO=1
CONFIG_GIMBAL_BUTTON_LONG_MS=2000

# Control
CONFIG_GIMBAL_LOOP_HZ=100
# Scaled by 1000
CONFIG_GIMBAL_ALPHA=950
CONFIG_GIMBAL_PID_KP=6000
CONFIG_GIMBAL_PID_KI=0
CONFIG_GIMBAL_PID_KD=100

# Mechanics (hard-coded defaults for now)
CONFIG_GIMBAL_ANTENNA_LIMIT_DEG=32
CONFIG_GIMBAL_SERVO_LIMIT_DEG=105
CONFIG_GIMBAL_MECH_RATIO=3280

# UART-RVC sniffer (enable to test BNO08x UART stream; disables IMU/SPI init)
# CONFIG_GIMBAL_UART_RVC_SNIFFER is not set
CONFIG_GIMBAL_UART_PORT=1
# ESP32-C3 RX pin wired to BNO085 TX pin (module pin often labeled GPIO6)
CONFIG_GIMBAL_UART_RX_GPIO=6
CONFIG_GIMBAL_UART_TX_GPIO=-1
CONFIG_GIMBAL_UART_BAUD=115200

# MSP (2-axis) defaults (active only when MSP mode is selected)
CONFIG_GIMBAL_MSP_UART_PORT=1
CONFIG_GIMBAL_MSP_UART_RX_GPIO=5
CONFIG_GIMBAL_MSP_UART_TX_GPIO=6
CONFIG_GIMBAL_MSP_UART_BAUD=115200
